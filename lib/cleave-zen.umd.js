!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e||self).cleaveZen={})}(this,function(e){var r,t,i,n=function(e){return e.replace(/[^\d]/g,"")},a=function(e){return e.reduce(function(e,r){return e+r},0)},l=function(e,r){return e.slice(0,r)},u=function(e){var r=e.value;return e.delimiters.forEach(function(e){e.split("").forEach(function(e){r=r.replace(new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g"),"")})}),r},s=function(e){var r=e.blocks,t=e.delimiter,i=void 0===t?"":t,n=e.delimiters,a=void 0===n?[]:n,l=e.delimiterLazyShow,u=void 0!==l&&l,s="",o=e.value,c="";return r.forEach(function(e,t){if(o.length>0){var n,l=o.slice(0,e),d=o.slice(e);c=a.length>0?null!=(n=a[u?t-1:t])?n:c:i,u?(t>0&&(s+=c),s+=l):(s+=l,l.length===e&&t<r.length-1&&(s+=c)),o=d}}),s};!function(e){e.UATP="uatp",e.AMEX="amex",e.DINERS="diners",e.DISCOVER="discover",e.MASTERCARD="mastercard",e.DANKORT="dankort",e.INSTAPAYMENT="instapayment",e.JCB15="jcb15",e.JCB="jcb",e.MAESTRO="maestro",e.VISA="visa",e.MIR="mir",e.UNIONPAY="unionpay",e.GENERAL="general"}(i||(i={}));var o,c=((r={})[i.UATP]=[4,5,6],r[i.AMEX]=[4,6,5],r[i.DINERS]=[4,6,4],r[i.DISCOVER]=[4,4,4,4],r[i.MASTERCARD]=[4,4,4,4],r[i.DANKORT]=[4,4,4,4],r[i.INSTAPAYMENT]=[4,4,4,4],r[i.JCB15]=[4,6,5],r[i.JCB]=[4,4,4,4],r[i.MAESTRO]=[4,4,4,4],r[i.VISA]=[4,4,4,4],r[i.MIR]=[4,4,4,4],r[i.UNIONPAY]=[4,4,4,4],r[i.GENERAL]=[4,4,4,4],r),d=((t={})[i.UATP]=/^(?!1800)1\d{0,14}/,t[i.AMEX]=/^3[47]\d{0,13}/,t[i.DISCOVER]=/^(?:6011|65\d{0,2}|64[4-9]\d?)\d{0,12}/,t[i.DINERS]=/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/,t[i.MASTERCARD]=/^(5[1-5]\d{0,2}|22[2-9]\d{0,1}|2[3-7]\d{0,2})\d{0,12}/,t[i.DANKORT]=/^(5019|4175|4571)\d{0,12}/,t[i.INSTAPAYMENT]=/^63[7-9]\d{0,13}/,t[i.JCB15]=/^(?:2131|1800)\d{0,11}/,t[i.JCB]=/^(?:35\d{0,2})\d{0,12}/,t[i.MAESTRO]=/^(?:5[0678]\d{0,2}|6304|67\d{0,2})\d{0,12}/,t[i.MIR]=/^220[0-4]\d{0,12}/,t[i.VISA]=/^4\d{0,15}/,t[i.UNIONPAY]=/^(62|81)\d{0,14}/,t),m=function(e){var r=e.reduce(function(e,r){return e+r},0);return e.concat(19-r)},v=function(e){for(var r=e.value,t=e.strictMode,n=0,a=Object.keys(d);n<a.length;n++){var l=a[n];if(d[l].test(r)){var u=c[l];return{type:l,blocks:null!=t&&t?m(u):u}}}return{type:i.GENERAL,blocks:null!=t&&t?m(c.general):c.general}};e.NumeralThousandGroupStyles=void 0,(o=e.NumeralThousandGroupStyles||(e.NumeralThousandGroupStyles={})).THOUSAND="thousand",o.LAKH="lakh",o.WAN="wan",o.NONE="none";var f=e.NumeralThousandGroupStyles.THOUSAND,p=["d","m","Y"],h=function(e,r){return r?(e<10?"000":e<100?"00":e<1e3?"0":"")+e:(e<10?"0":"")+e},g=function(e){return(e<10?"0":"")+e},x=function(e,r,t){var i;return e=Math.min(e,31),t=null!=(i=t)?i:0,((r=Math.min(r,12))<7&&r%2==0||r>8&&r%2==1)&&(e=Math.min(e,2===r?function(e){return e%4==0&&e%100!=0||e%400==0}(t)?29:28:30)),[e,r,t]},E=["h","m","s"],I=function(e){return(e<10?"0":"")+e},S=function(e,r,t){return t=Math.min(t,60),r=Math.min(r,60),[e=Math.min(e,60),r,t]};e.DefaultCreditCardDelimiter=" ",e.DefaultDateDelimiter="/",e.DefaultNumeralDelimiter=",",e.DefaultTimeDelimiter=":",e.formatCreditCard=function(e,r){var t=null!=r?r:{},i=t.delimiter,o=void 0===i?" ":i,c=t.delimiterLazyShow,d=void 0!==c&&c,m=t.strictMode,f=void 0!==m&&m;e=n(e),e=u({value:e,delimiters:[o]});var p=v({value:e,strictMode:f}).blocks,h=a(p);return e=l(e,h),s({value:e,blocks:p,delimiter:o,delimiterLazyShow:d})},e.formatDate=function(e,r){var t=null!=r?r:{},i=t.delimiterLazyShow,o=void 0!==i&&i,c=t.delimiter,d=void 0===c?"/":c,m=t.datePattern,v=void 0===m?p:m,f=t.dateMax,E=void 0===f?"":f,I=t.dateMin,S=void 0===I?"":I;e=n(e);var A=function(e){var r=[];return e.forEach(function(e){r.push("Y"===e?4:2)}),r}(v),y=function(e){var r=e.dateMax,t=e.dateMin.split("-").reverse().map(function(e){return parseInt(e,10)});2===t.length&&t.unshift(0);var i=r.split("-").reverse().map(function(e){return parseInt(e,10)});return 2===i.length&&i.unshift(0),{min:t,max:i}}({dateMax:E,dateMin:S});e=function(e){var r=e.value,t=void 0===r?"":r,i=e.blocks,n=e.datePattern,a=e.min,l=e.max,u="";return(void 0===i?[]:i).forEach(function(e,r){if(t.length>0){var i=t.slice(0,e),a=i.slice(0,1),l=t.slice(e);switch(n[r]){case"d":"00"===i?i="01":parseInt(a,10)>3?i="0"+a:parseInt(i,10)>31&&(i="31");break;case"m":"00"===i?i="01":parseInt(a,10)>1?i="0"+a:parseInt(i,10)>12&&(i="12")}u+=i,t=l}}),function(e){var r,t,i,n=e.value,a=void 0===n?"":n,l=e.datePattern,u=e.min,s=e.max,o=[],c=0,d=0,m=0,v=0,f=0,p=0,E=!1;return 4===a.length&&"y"!==l[0].toLowerCase()&&"y"!==l[1].toLowerCase()&&(f=2-(v="d"===l[0]?0:2),r=parseInt(a.slice(v,v+2),10),t=parseInt(a.slice(f,f+2),10),o=x(r,t,0)),8===a.length&&(l.forEach(function(e,r){switch(e){case"d":c=r;break;case"m":d=r;break;default:m=r}}),p=2*m,v=c<=m?2*c:2*c+2,f=d<=m?2*d:2*d+2,r=parseInt(a.slice(v,v+2),10),t=parseInt(a.slice(f,f+2),10),i=parseInt(a.slice(p,p+4),10),E=4===a.slice(p,p+4).length,o=x(r,t,i)),4!==a.length||"y"!==l[0]&&"y"!==l[1]||(p=2-(f="m"===l[0]?0:2),t=parseInt(a.slice(f,f+2),10),i=parseInt(a.slice(p,p+2),10),E=2===a.slice(p,p+2).length,o=[0,t,i]),6!==a.length||"Y"!==l[0]&&"Y"!==l[1]||(p=2-.5*(f="m"===l[0]?0:4),t=parseInt(a.slice(f,f+2),10),i=parseInt(a.slice(p,p+4),10),E=4===a.slice(p,p+4).length,o=[0,t,i]),0===(o=function(e){var r=e.date,t=void 0===r?[]:r,i=e.min,n=e.max;return 0===t.length||i.length<3&&n.length<3||e.datePattern.filter(function(e){return"y"===e.toLowerCase()}).length>0&&0===t[2]?t:n.length>0&&(n[2]<t[2]||n[2]===t[2]&&(n[1]<t[1]||n[1]===t[1]&&n[0]<t[0]))?n:i.length>0&&(i[2]>t[2]||i[2]===t[2]&&(i[1]>t[1]||i[1]===t[1]&&i[0]>t[0]))?i:t}({date:o,datePattern:l,min:u,max:s})).length?a:l.reduce(function(e,r){switch(r){case"d":return e+(0===o[0]?"":g(o[0]));case"m":return e+(0===o[1]?"":g(o[1]));case"y":return e+(E?h(o[2],!1):"");case"Y":return e+(E?h(o[2],!0):"")}return e},"")}({value:u,datePattern:n,min:a,max:l})}({value:e,blocks:A,datePattern:v,min:y.min,max:y.max}),e=u({value:e,delimiters:[d]});var M=a(A);return e=l(e,M),s({value:e,blocks:A,delimiter:d,delimiterLazyShow:o})},e.formatGeneral=function(e,r){var t=r.blocks,i=r.delimiter,a=void 0===i?"":i,l=r.delimiters,o=void 0===l?[]:l,c=r.delimiterLazyShow,d=void 0!==c&&c,m=r.prefix,v=void 0===m?"":m,f=r.numericOnly,p=void 0!==f&&f,h=r.uppercase,g=void 0!==h&&h,x=r.lowercase,E=void 0!==x&&x;return a.length>0&&o.push(a),e=function(e){var r=e.value,t=e.prefix,i=e.tailPrefix,n=t.length;return 0===n?r:r===t&&""!==r?"":r.slice(0,n)===t||i?r.slice(-n)!==t&&i?"":i?r.slice(0,-n):r.slice(n):""}({value:e=u({value:e,delimiters:o}),prefix:v,tailPrefix:!1}),e=p?n(e):e,e=g?e.toUpperCase():e,e=E?e.toLowerCase():e,v.length>0&&(e=v+e),s({value:e,blocks:t,delimiter:a,delimiters:o,delimiterLazyShow:d})},e.formatNumeral=function(r,t){var i=null!=t?t:{},n=i.delimiter,a=i.numeralThousandsGroupStyle,l=i.numeralIntegerScale,u=i.numeralDecimalMark,s=i.numeralDecimalScale,o=i.stripLeadingZeroes,c=i.numeralPositiveOnly,d=i.tailPrefix,m=i.signBeforePrefix,v=i.prefix;return function(r){var t,i,n,a=r.delimiter,l=r.numeralDecimalMark,u=r.numeralDecimalScale,s=r.stripLeadingZeroes,o=r.numeralPositiveOnly,c=r.numeralIntegerScale,d=r.numeralThousandsGroupStyle,m=r.signBeforePrefix,v=r.tailPrefix,f=r.prefix,p="",h=r.value.replace(/[A-Za-z]/g,"").replace(l,"M").replace(/[^\dM-]/g,"").replace(/^-/,"N").replace(/-/g,"").replace("N",null!=o&&o?"":"-").replace("M",l);s&&(h=h.replace(/^(-)?0+(?=\d)/,"$1"));var g="-"===h.slice(0,1)?"-":"";switch(i=m?g+f:f+g,n=h,h.includes(l)&&(n=(t=h.split(l))[0],p=l+t[1].slice(0,u)),"-"===g&&(n=n.slice(1)),c>0&&(n=n.slice(0,c)),d){case e.NumeralThousandGroupStyles.LAKH:n=n.replace(/(\d)(?=(\d\d)+\d$)/g,"$1"+a);break;case e.NumeralThousandGroupStyles.WAN:n=n.replace(/(\d)(?=(\d{4})+$)/g,"$1"+a);break;case e.NumeralThousandGroupStyles.THOUSAND:n=n.replace(/(\d)(?=(\d{3})+$)/g,"$1"+a)}return v?g+n+(u>0?p:"")+f:i+n+(u>0?p:"")}({value:r,delimiter:void 0===n?",":n,numeralIntegerScale:void 0===l?0:l,numeralDecimalMark:void 0===u?".":u,numeralDecimalScale:void 0===s?2:s,stripLeadingZeroes:void 0===o||o,numeralPositiveOnly:void 0!==c&&c,numeralThousandsGroupStyle:void 0===a?f:a,tailPrefix:void 0!==d&&d,signBeforePrefix:void 0!==m&&m,prefix:void 0===v?"":v})},e.formatTime=function(e,r){var t=null!=r?r:{},i=t.delimiterLazyShow,o=void 0!==i&&i,c=t.delimiter,d=void 0===c?":":c,m=t.timePattern,v=void 0===m?E:m,f=t.timeFormat,p=void 0===f?"24":f;e=n(e);var h=function(e){var r=[];return e.forEach(function(){r.push(2)}),r}(v);e=function(e){var r=e.value,t=e.timePattern,i="",n="12"===e.timeFormat?{maxHourFirstDigit:1,maxHours:12,maxMinutesFirstDigit:5,maxMinutes:60}:{maxHourFirstDigit:2,maxHours:23,maxMinutesFirstDigit:5,maxMinutes:60};return e.blocks.forEach(function(e,a){if(r.length>0){var l=r.slice(0,e),u=l.slice(0,1),s=r.slice(e);switch(t[a]){case"h":parseInt(u,10)>n.maxHourFirstDigit?l="0"+u:parseInt(l,10)>n.maxHours&&(l=n.maxHours+"");break;case"m":case"s":parseInt(u,10)>n.maxMinutesFirstDigit?l="0"+u:parseInt(l,10)>n.maxMinutes&&(l=n.maxMinutes+"")}i+=l,r=s}}),function(e){var r,t,i,n=e.value,a=e.timePattern,l=[],u=0,s=0,o=0,c=0,d=0,m=0;return 6===n.length&&(a.forEach(function(e,r){switch(e){case"s":u=2*r;break;case"m":s=2*r;break;case"h":o=2*r}}),m=o,d=s,c=u,r=parseInt(n.slice(c,c+2),10),t=parseInt(n.slice(d,d+2),10),i=parseInt(n.slice(m,m+2),10),l=S(i,t,r)),4!==n.length||a.includes("s")||(a.forEach(function(e,r){switch(e){case"m":s=2*r;break;case"h":o=2*r}}),m=o,d=s,r=0,t=parseInt(n.slice(d,d+2),10),i=parseInt(n.slice(m,m+2),10),l=S(i,t,r)),0===l.length?n:a.reduce(function(e,r){switch(r){case"s":return e+I(l[2]);case"m":return e+I(l[1]);case"h":return e+I(l[0])}return e},"")}({value:i,timePattern:t})}({value:e,blocks:h,timePattern:v,timeFormat:p}),e=u({value:e,delimiters:[d]});var g=a(h);return e=l(e,g),s({value:e,blocks:h,delimiter:d,delimiterLazyShow:o})},e.getCreditCardType=function(e,r){return e=n(e),e=u({value:e,delimiters:[null!=r?r:" "]}),v({value:e}).type},e.registerCursorTracker=function(e){var r,t=e.input,i=e.delimiter,n=e.delimiters,a=e.prefix,l=void 0===a?"":a,s=[void 0===i?"":i].concat(void 0===n?[]:n),o=t;null!=(r=o.CLEAVE_ZEN_registered)&&r||(o.CLEAVE_ZEN_registered=!0,o.addEventListener("input",function(e){var r,t=e.target;("deleteContentBackward"===e.inputType||t.value.length!==t.selectionEnd)&&(t.CLEAVE_ZEN_cleanCursorIndex=function(e){for(var r=e.value,t=e.dirtyCursorIndex,i=e.delimiters,n=t,a=0;a<t;a++)i.includes(r[a])&&n--;return n}({value:t.value,dirtyCursorIndex:null!=(r=t.selectionEnd)?r:0,delimiters:s}),setTimeout(function(){var e;if(u({value:t.value,delimiters:s})!==l){var r=function(e){for(var r=e.value,t=e.delimiters,i=e.cleanCursorIndex,n=0;n<r.length&&(t.includes(r[n])&&i++,n!==i-1);n++);return i}({value:t.value,cleanCursorIndex:null!=(e=t.CLEAVE_ZEN_cleanCursorIndex)?e:0,delimiters:s});t.setSelectionRange(r,r)}},0))}))}});
//# sourceMappingURL=cleave-zen.umd.js.map
